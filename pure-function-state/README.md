# 순수 함수적 상태
2021 년 7 월 3 일 진행

## 부수 효과를 이용한 난수 발생
- 난수 발생기는 매번 다른 값을 반환.
- `내부 상태` 가 존재해서 매번 다른 값을 반환하는 것이 가능하다.
- `내부 상태` 가 존재한다는 것은 참조에 투명하지 않은 함수라는 뜻.
- 참조 투명하지 않은 함수는 테스트가 어려움.(상태를 모킹등을 이용해 재현해주어야 함)
- 참조 투명하지 않은 함수는 병렬화가 어려움.(맥락에 따라 결과가 변하기 때문에, 병렬적으로 동일한 맥락을 생성하기가 어려움)

## 상태 있는 API 를 순수하게 만들기
- 스터디의 핵심.
- 상태를 부수효과로 갱신하지 않음.
- 새로운 상태를 반환값과 함께 돌려줌.
- 단, 매번 상태를 주고 받아야 하므로, 인터페이스가 복잡해짐.
- 상태 변화를 독립된 관심사로 다루는 다른 방법 필요.

## class 와 case class
- case class 는 객체를 불변으로 본다.
- class 는 이와 다르게 식별성이 있는 변하는 객체로 본다.
- case class 는 객체 생성시에 new 를 붙이지 않는다.
- case class 는 패턴 매칭과 동등성 비교를 지원한다.
- case class 는 동반객체의 apply 메서드로 구현가능하다. 