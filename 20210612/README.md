# 엄격하지 않은 함수
2021 년 6 월 12 일 진행

## 배열의 일괄연산 - 비효율성
- 스칼라에서는 배열에 대한 연산을 일괄적으로 할 수 있는 고수준 연산 지원(map, filter, reduce 등).
- 배열에 연산을 적용하면, 새로운 배열을 반환.
- 여러개의 연산을 하나의 배열에 적용(체이닝)하는 경우, 최종 결과를 제외한 중간결과는 버려짐.

## 일괄연산의 개선
- 여러개의 연산을 하나로 합쳐서 하나의 순회로 합쳐주는 도구 필요.
- 동시에, 고수준의 연산을 유지할 필요.(while 등의 수동루프 X)
- 이를 위해서는, 연산을 정의하는 시점과 연산이 실제 수행되는 시점이 다를 필요가 있음.
- 즉, 표현식의 서술과 평가가 분리되어야 함.

## Thunk
- 표현식의 평가되지 않은 형태를 말함.
- 함수로 표현식을 감싸는 형태로 구현이 가능.
- 스칼라에서는 이러한 형태(thunk)를 지원하기 위한 문법이 존재.

```scala
  def cons[A](hd: => A, tl: => Stream[A]) = {
    lazy val head = hd
    lazy val tail = tl
    Cons(() => head, () => tail)
  }
```

## 게으른 목록
- 연산들의 융합이 가능한 목록.
- 목록은 결과를 도출할때까지, 연산에 대한 평가를 지연시키고, 마지막에 처리할 수 있는 기능을 가지고 있음.